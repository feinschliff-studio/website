var l=Object.defineProperty;var d=(o,n,e)=>n in o?l(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e;var c=(o,n,e)=>(d(o,typeof n!="symbol"?n+"":n,e),e);import{c as s}from"./main.976d8410.js";import{C as b}from"./CustomElement.43dab8c6.js";const h=`.consent-banner{position:fixed;bottom:0;left:0;padding:2rem;z-index:10}.consent-banner.consent-banner--consent-given,.consent-banner.consent-banner--consent-denied{display:none}.consent-banner__content{max-width:40vw;background:rgba(255,255,255,.5);backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px) saturate(180%);color:#000;border-radius:5px;border:1px solid rgba(0,0,0,.2);box-shadow:0 1px 5px #0000001a,0 10px 25px #0003}.consent-banner__text{padding:.5rem .25rem}.consent-banner__text ::slotted(p){margin:0;color:#000000a6;font-size:.65rem!important;line-height:1.3!important}.consent-banner__actions{display:flex;align-items:center;justify-content:space-evenly;border-top:1px solid rgba(0,0,0,.1);border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;font-size:.85rem}.consent-banner__action{margin:0;flex-grow:1;cursor:pointer;-webkit-appearance:none;background:none;border:none;font-size:inherit;font-family:inherit;padding:.25rem .5rem;background-color:transparent}.consent-banner__action:first-child{border-bottom-left-radius:inherit;margin-right:1px}.consent-banner__action:last-child{border-bottom-right-radius:inherit}.consent-banner__action.consent-banner__action--accept{background-color:rgba(var(--color-secondary),1);color:rgba(var(--color-secondary-contrast),1)}
`;class _ extends b{constructor(){super(...arguments);c(this,"consentBanner")}static getTagName(){return"consent-banner"}get acceptLabel(){return this.getAttribute("accept-label")||"Accept"}get declineLabel(){return this.getAttribute("decline-label")||"Decline"}get toggleAttributeName(){return this.getAttribute("toggle-attribute")||"data-consent-toggle"}render(e){this.initializeConsentToggles();const t=s("button",{class:["consent-banner__action","consent-banner__action--accept"]},[this.acceptLabel]),i=s("button",{class:["consent-banner__action","consent-banner__action--decline"]},[this.declineLabel]);t.addEventListener("click",this.handleAccept.bind(this)),i.addEventListener("click",this.handleDecline.bind(this)),this.consentBanner=s("div",{class:"consent-banner"},[s("article",{class:"consent-banner__content"},[s("div",{class:"consent-banner__text"},[s("slot",{},["Consent info should appear here"])]),s("footer",{class:"consent-banner__actions"},[t,i])])]),e.appendChild(this.consentBanner),a.addEventListener("change",({detail:r})=>{switch(r.level){case 2:this.consentBanner.classList.add("consent-banner--consent-given"),this.consentBanner.classList.remove("consent-banner--consent-denied");break;case 1:this.consentBanner.classList.add("consent-banner--consent-denied"),this.consentBanner.classList.remove("consent-banner--consent-given");break;default:this.consentBanner.classList.remove("consent-banner--consent-given"),this.consentBanner.classList.remove("consent-banner--consent-denied")}}),a.load()}handleAccept(){a.level=2}handleDecline(){a.level=1}handleReset(){a.level=0}initializeConsentToggles(){const e=Array.from(document.querySelectorAll(`[${this.toggleAttributeName}]`));for(const t of e)t.addEventListener("click",this.handleReset.bind(this))}styles(){return h}}class g extends EventTarget{constructor(){super(...arguments);c(this,"_level")}get level(){return this._level||this.load(),this._level}set level(e){this._level=e,window.document.cookie=[`consent=${e||""}`,`Max-Age=${e>0?31536e3:0}`,"SameSite=strict"].join("; "),this.dispatchEvent(new CustomEvent("change",{detail:{level:e}}))}load(){const e=window.document.cookie.split(";").map(t=>t.split("=")).reduce((t,[i,r])=>({...t,[decodeURIComponent(i.trim())]:decodeURIComponent(r==null?void 0:r.trim())}),{});this.level=Number(e.consent||0)}}const a=new g;export{_ as ConsentBanner,a as consent};
//# sourceMappingURL=ConsentBanner.6f89f9a8.js.map
