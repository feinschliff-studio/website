var l=Object.defineProperty;var d=(o,e,n)=>e in o?l(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var i=(o,e,n)=>(d(o,typeof e!="symbol"?e+"":e,n),n);import{c as r}from"./main.24d2b3b5.js";import{C as b}from"./CustomElement.43dab8c6.js";const g=`.consent-banner{position:fixed;bottom:0;left:0;padding:2rem;z-index:10;transition:opacity 125ms,transform .3s,margin-top 1ms .5s;animation-timing-function:ease-out;pointer-events:none}.consent-banner.consent-banner--consent-given,.consent-banner.consent-banner--consent-denied{margin-top:-500vh;opacity:0;visibility:hidden;transform:scale(.9) translateY(50%)}.consent-banner__content{max-width:40vw;background:rgba(var(--color-white),1);color:#000;border-radius:5px;border:1px solid rgba(0,0,0,.2);box-shadow:0 1px 5px #0000001a,0 10px 25px #0003,0 22px 70px 4px #00000029;pointer-events:all}@supports (backdrop-filter: blur(0)) or (-webkit-backdrop-filter: blur(0)){.consent-banner__content{background:rgba(var(--color-white),.6);backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px) saturate(180%)}}.consent-banner__text{padding:.5rem .25rem}.consent-banner__text ::slotted(p){margin:0;color:#000000a6;font-size:.65rem!important;line-height:1.3!important}.consent-banner__actions{display:flex;align-items:center;justify-content:space-evenly;border-top:1px solid rgba(0,0,0,.1);border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;font-size:.85rem}.consent-banner__action{margin:0;flex-grow:1;cursor:pointer;-webkit-appearance:none;background:none;border:none;font-size:inherit;font-family:inherit;padding:.25rem .5rem;background-color:transparent;transition:all 125ms}.consent-banner__action:first-child{border-bottom-left-radius:inherit;margin-right:1px}.consent-banner__action:last-child{border-bottom-right-radius:inherit}.consent-banner__action.consent-banner__action--accept{background-color:rgba(var(--color-secondary),1);color:rgba(var(--color-secondary-contrast),1)}.consent-banner__action.consent-banner__action--accept:hover,.consent-banner__action.consent-banner__action--accept:focus{background-color:rgba(var(--color-secondary),.8)}.consent-banner__action.consent-banner__action--decline{background-color:rgba(var(--color-white),0);color:rgba(var(--color-black),1)}.consent-banner__action.consent-banner__action--decline:hover,.consent-banner__action.consent-banner__action--decline:focus{background-color:rgba(var(--color-white),1)}
`;class u extends b{constructor(){super(...arguments);i(this,"consentBanner")}static getTagName(){return"consent-banner"}get acceptLabel(){return this.getAttribute("accept-label")||"Accept"}get declineLabel(){return this.getAttribute("decline-label")||"Decline"}get toggleAttributeName(){return this.getAttribute("toggle-attribute")||"data-consent-toggle"}render(n){this.initializeConsentToggles();const t=r("button",{class:["consent-banner__action","consent-banner__action--accept"]},[this.acceptLabel]),s=r("button",{class:["consent-banner__action","consent-banner__action--decline"]},[this.declineLabel]);t.addEventListener("click",this.handleAccept.bind(this)),s.addEventListener("click",this.handleDecline.bind(this)),this.consentBanner=r("div",{class:"consent-banner"},[r("article",{class:"consent-banner__content"},[r("div",{class:"consent-banner__text"},[r("slot",{},["Consent info should appear here"])]),r("footer",{class:"consent-banner__actions"},[t,s])])]),n.appendChild(this.consentBanner),c.addEventListener("change",({detail:a})=>{switch(a.level){case 2:this.consentBanner.classList.add("consent-banner--consent-given"),this.consentBanner.classList.remove("consent-banner--consent-denied");break;case 1:this.consentBanner.classList.add("consent-banner--consent-denied"),this.consentBanner.classList.remove("consent-banner--consent-given");break;default:this.consentBanner.classList.remove("consent-banner--consent-given"),this.consentBanner.classList.remove("consent-banner--consent-denied")}}),c.load()}handleAccept(){c.level=2}handleDecline(){c.level=1}handleReset(){c.level=0}initializeConsentToggles(){const n=Array.from(document.querySelectorAll(`[${this.toggleAttributeName}]`));for(const t of n)t.addEventListener("click",this.handleReset.bind(this))}styles(){return g}}class h extends EventTarget{constructor(){super(...arguments);i(this,"_level")}get level(){return this._level||this.load(),this._level}set level(n){this._level=n,window.document.cookie=[`consent=${n||""}`,`Max-Age=${n>0?31536e3:0}`,"SameSite=strict"].join("; "),this.dispatchEvent(new CustomEvent("change",{detail:{level:n}}))}load(){const n=window.document.cookie.split(";").map(t=>t.split("=")).reduce((t,[s,a])=>({...t,[decodeURIComponent(s.trim())]:decodeURIComponent(a==null?void 0:a.trim())}),{});this.level=Number(n.consent||0)}}const c=new h;export{u as ConsentBanner,c as consent};
//# sourceMappingURL=ConsentBanner.044a0eb9.js.map
